<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î - Praweena Property</title>

  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/js/env-loader.js"></script>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Cropper.js -->
  <link rel="stylesheet" href="https://unpkg.com/cropperjs@1.6.2/dist/cropper.min.css">
  <script src="https://unpkg.com/cropperjs@1.6.2/dist/cropper.min.js"></script>

  <style>
    /* Gold Theme & Modern Minimal overrides */
    :root {
      --gold-primary: #d4af37;
      --gold-dark: #b8860b;
      --gold-light: #f3e5ab;
      --bg-soft: #f9fafb;
    }

    body {
      background-color: var(--bg-soft);
      font-family: 'Plus Jakarta Sans', sans-serif;
    }

    .page-header h1 {
      color: #111827;
      font-weight: 800;
    }

    /* Buttons */
    .btn {
      border-radius: 12px;
      font-weight: 600;
      letter-spacing: 0.01em;
      transition: all 0.2s;
      cursor: pointer;
    }

    .btn:not(.btn-secondary):not(.btn-danger) {
      background: linear-gradient(135deg, var(--gold-primary), var(--gold-dark));
      color: #fff;
      border: none;
      box-shadow: 0 4px 6px -1px rgba(184, 134, 11, 0.2);
    }

    .btn:not(.btn-secondary):not(.btn-danger):hover {
      box-shadow: 0 10px 15px -3px rgba(184, 134, 11, 0.3);
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: #fff;
      border: 1px solid #e5e7eb;
      color: #374151;
    }

    .btn-secondary:hover {
      border-color: var(--gold-primary);
      color: var(--gold-dark);
      background: #fffcf5;
    }

    /* Search Input */
    .filter-input .form-control {
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      padding: 0.75rem 1rem;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .filter-input .form-control:focus {
      border-color: var(--gold-primary);
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
    }

    /* Table modernization */
    .table-wrapper {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
      border: 1px solid #e5e7eb;
      overflow: hidden;
      margin-top: 1.5rem;
    }

    #properties-table {
      width: 100%;
      border-collapse: collapse;
    }

    #properties-table thead th {
      background: #fdfbf7;
      color: #4b5563;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
      padding: 1rem;
      border-bottom: 2px solid #f3e5ab;
    }

    #properties-table tbody td {
      padding: 1rem;
      border-bottom: 1px solid #f3f4f6;
      vertical-align: middle;
      color: #374151;
    }

    #properties-table tbody tr:last-child td {
      border-bottom: none;
    }

    #properties-table tbody tr:hover {
      background-color: #fcfcfc;
    }

    /* Responsive Table (Mobile Cards) */
    @media (max-width: 768px) {
      .table-wrapper {
        background: transparent;
        box-shadow: none;
        border: none;
        overflow: visible;
      }

      #properties-table thead {
        display: none;
      }

      #properties-table tbody,
      #properties-table tr,
      #properties-table td {
        display: block;
        width: 100%;
      }

      #properties-table tr {
        background: #fff;
        border-radius: 16px;
        margin-bottom: 1rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        border: 1px solid #e5e7eb;
        padding: 1.25rem;
        position: relative;
      }

      #properties-table td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-align: right;
        padding: 0.5rem 0;
        border-bottom: 1px solid #f9fafb;
      }

      #properties-table td:last-child {
        border-bottom: none;
        margin-top: 1rem;
        justify-content: flex-end;
        gap: 0.5rem;
      }

      #properties-table td::before {
        content: attr(data-label);
        font-weight: 600;
        color: #9ca3af;
        font-size: 0.9rem;
        text-align: left;
      }

      /* Highlight title */
      #properties-table td[data-label="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠"] {
        font-size: 1.1rem;
        font-weight: 700;
        color: #111827;
        margin-bottom: 0.5rem;
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
      }

      #properties-table td[data-label="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠"]::before {
        display: none;
      }

      /* Price formatting */
      #properties-table td[data-label="‡∏£‡∏≤‡∏Ñ‡∏≤"] {
        color: var(--gold-dark);
        font-weight: 700;
        font-size: 1.1rem;
      }
    }

    /* Force Modal Styles & Improvements */
    .modal {
      display: none;
      /* Hidden by default */
      position: fixed;
      inset: 0;
      z-index: 1000;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal.open {
      display: flex;
      opacity: 1;
    }

    .modal-content {
      background: #fff;
      padding: 0;
      /* Remove default padding, use inner layout */
      border-radius: 20px;
      width: 90%;
      max-width: 900px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      position: relative;
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }

    .modal.open .modal-content {
      transform: scale(1);
    }

    .modal-body {
      padding: 2rem;
    }

    /* Close Button */
    .modal-close {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background: #f3f4f6;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #6b7280;
      font-size: 1.5rem;
      transition: all 0.2s;
      z-index: 10;
    }

    .modal-close:hover {
      background: #e5e7eb;
      color: #111;
    }

    /* Enhanced Filter Bar */
    .filter-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      background: #fff;
      padding: 1rem;
      border-radius: 16px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      border: 1px solid #f3e5ab;
      /* Subtle gold border */
    }

    .filter-input {
      flex: 1;
      min-width: 280px;
    }

    /* Prominent Add Button */
    #add-property-btn {
      background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
      color: white;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      box-shadow: 0 4px 10px rgba(184, 134, 11, 0.3);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    #add-property-btn::before {
      content: '+';
      font-size: 1.25rem;
      font-weight: 700;
    }

    #add-property-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(184, 134, 11, 0.4);
    }

    /* Form Styling inside Modal */
    .form-section {
      margin-bottom: 2rem;
      border-bottom: 1px solid #f3f4f6;
      padding-bottom: 1.5rem;
    }

    .form-section:last-child {
      border-bottom: none;
      padding-bottom: 0;
      margin-bottom: 0;
    }

    .form-section-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: #111827;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      /* Default to 1 column everywhere */
      gap: 1.25rem;
    }

    /* Only switch to 2 columns on large screens (Laptop/PC) */
    @media (min-width: 1024px) {
      .form-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* Remove media query for grid-templates as auto-fit handles it */

    .form-group {
      margin-bottom: 1rem;
      min-width: 0;
      /* Prevent grid overflow */
    }

    .form-group label {
      display: block;
      font-size: 0.9rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 0.4rem;
      white-space: nowrap;
      /* Prevent ugly wrapping */
    }

    .form-control {
      width: 100%;
      padding: 0.65rem 0.85rem;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      font-size: 0.95rem;
      background: #f9fafb;
      transition: all 0.2s;
    }

    .form-control:focus {
      background: #fff;
      border-color: #d4af37;
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
      outline: none;
    }

    /* Map Box */
    #modal-map {
      border: 2px solid #fff;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      border-radius: 12px;
    }

    /* POI List */
    .poi-inline-list {
      list-style: none;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 0.75rem;
      height: 200px;
      overflow-y: auto;
      background: #f9fafb;
      padding: 0.75rem;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
    }

    .poi-inline-list li {
      margin: 0;
    }

    .poi-inline-list li label {
      display: flex !important;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      cursor: pointer;
      padding: 0.5rem;
      /* Increased padding */
      border-radius: 8px;
      /* Softer corners */
      background: #fff;
      border: 1px solid #f3f4f6;
      transition: all 0.2s;
    }

    .poi-inline-list li label:hover {
      border-color: #d4af37;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    /* Upload Areas */
    .upload-area {
      border: 2px dashed #d1d5db;
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      background: #f9fafb;
      transition: all 0.2s;
    }

    .upload-area:hover {
      border-color: #d4af37;
      background: #fffcf5;
    }

    /* Modal Actions */
    .modal-actions {
      position: sticky;
      bottom: 0;
      background: #fff;
      margin: 2rem -2rem 0 -2rem;
      /* expand to edges */
      padding: 1rem 2rem;
      border-top: 1px solid #e5e7eb;
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      z-index: 20;
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
    }

    .modal-header h3 {
      font-size: 1.5rem;
      font-weight: 800;
      color: #111;
      margin: 0;
    }
  </style>
</head>

<body data-page="dashboard">


  <main class="container">
    <div class="page-header">
      <div class="page-header-left">
        <a href="/admin.html" class="btn btn-secondary">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</a>
        <div>
          <h1>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</h1>
          <div id="role-indicator"></div>
        </div>
      </div>
    </div>

    <!-- Filter + Add Button -->
    <div class="filter-bar">
      <div class="filter-input">
        <input type="text" id="property-search" class="form-control" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®...">
      </div>
      <div class="filter-actions">
        <button id="add-property-btn" class="btn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà</button>
      </div>
    </div>

    <div class="table-wrapper">
      <table id="properties-table">
        <thead>
          <tr>
            <th>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</th>
            <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
            <th>‡∏£‡∏µ‡πÇ‡∏ô‡πÄ‡∏ß‡∏ó</th>
            <th>‡πÇ‡∏ä‡∏ß‡πå‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
            <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
            <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
          </tr>
        </thead>
        <tbody id="properties-table-body">
          <!-- ‡πÅ‡∏ñ‡∏ß‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏î‡∏¢ JS -->
        </tbody>
      </table>
    </div>
  </main>

  <!-- Modal: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (Redesigned) -->
  <div id="property-modal" class="modal">
    <div class="modal-content">
      <button class="modal-close">&times;</button>

      <div class="modal-body">
        <div class="modal-header" style="margin-bottom: 2rem;">
          <h3 id="modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà</h3>
          <p style="color:#6b7280; margin:0.25rem 0 0 0;">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡πâ‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>
        </div>

        <form id="property-form">
          <input type="hidden" name="id" />

          <!-- Section 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ -->
          <div class="form-section">
            <h4 class="form-section-title">üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h4>
            <div class="form-grid">
              <div class="form-group" style="grid-column: span 2;">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
                <input type="text" name="title" class="form-control" required
                  placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß 2 ‡∏ä‡∏±‡πâ‡∏ô ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏ô...">
              </div>

              <div class="form-group">
                <label>Slug (URL)</label>
                <input type="text" name="slug" class="form-control" placeholder="‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ñ‡πâ‡∏≤‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á">
              </div>

              <div class="form-group">
                <label>‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
                <input type="number" name="price" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2500000">
              </div>

              <div class="form-group">
                <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå</label>
                <select name="property_type" class="form-control">
                  <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                  <option value="‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß">‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß</option>
                  <option value="‡∏ó‡∏≤‡∏ß‡∏ô‡πå‡πÄ‡∏Æ‡πâ‡∏≤‡∏™‡πå">‡∏ó‡∏≤‡∏ß‡∏ô‡πå‡πÄ‡∏Æ‡πâ‡∏≤‡∏™‡πå</option>
                  <option value="‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î">‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î</option>
                  <option value="‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô">‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô</option>
                </select>
              </div>

              <div class="form-group">
                <label>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏¢</label>
                <input type="text" name="size_text" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 150 ‡∏ï‡∏£.‡∏°.">
              </div>

              <div class="form-group">
                <label>‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô</label>
                <input type="number" name="beds" class="form-control" placeholder="0">
              </div>

              <div class="form-group">
                <label>‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥</label>
                <input type="number" name="baths" class="form-control" placeholder="0">
              </div>

              <div class="form-group">
                <label>‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î‡∏£‡∏ñ</label>
                <input type="number" name="parking" class="form-control" placeholder="0">
              </div>
            </div>
          </div>

          <!-- Section 2: ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà -->
          <div class="form-section">
            <h4 class="form-section-title">üìç ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</h4>
            <div class="form-grid">
              <div class="form-group">
                <label>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</label>
                <input type="text" name="district" class="form-control">
              </div>
              <div class="form-group">
                <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label>
                <input type="text" name="province" class="form-control" value="‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ">
              </div>
              <div class="form-group" style="grid-column: span 2;">
                <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà / ‡∏ã‡∏≠‡∏¢ / ‡∏ñ‡∏ô‡∏ô</label>
                <input type="text" name="address" class="form-control" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà...">
              </div>

              <div class="form-group">
                <label>‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î (Latitude)</label>
                <input type="number" step="any" name="latitude" class="form-control">
              </div>
              <div class="form-group">
                <label>‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î (Longitude)</label>
                <input type="number" step="any" name="longitude" class="form-control">
              </div>
            </div>

            <!-- Internal Legal Info -->
            <div
              style="margin-top: 1.5rem; background: #f9fafb; padding: 1rem; border-radius: 8px; border: 1px solid #e5e7eb;">
              <h5 style="margin-bottom: 0.75rem; font-size: 0.95rem; font-weight: 600; color: #374151;">üîí
                ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏â‡∏ô‡∏î/‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô (Internal Use)</h5>
              <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem;">
                <div class="form-group">
                  <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÇ‡∏â‡∏ô‡∏î</label>
                  <input type="text" name="title_deed_no" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 12345">
                </div>
                <div class="form-group">
                  <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ß‡∏≤‡∏á</label>
                  <input type="text" name="parcel_number" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 5036 II 8412">
                </div>
                <div class="form-group">
                  <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô</label>
                  <input type="text" name="house_number" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 99/999">
                </div>
              </div>
            </div>

            <div style="margin-top: 1rem;">
              <small
                style="display:block; margin-bottom:0.5rem; color:#6b7280;">‡∏•‡∏≤‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</small>
              <div id="modal-map" style="height:320px; z-index:1;"></div>
            </div>

            <!-- POI List -->
            <div style="margin-top: 1.5rem;">
              <label style="font-weight:600;display:block;margin-bottom:0.5rem;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á
                (‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)</label>
              <ul id="poi-candidate-list" class="poi-inline-list">
                <!-- JS Fill -->
              </ul>

              <!-- Manual POI add -->
              <div id="poi-manual-box" class="upload-area" style="margin-top:1rem; text-align:left; padding:1rem;">
                <p style="font-weight:600; margin-bottom:0.5rem; font-size:0.9rem;">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏á
                  (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)</p>
                <div class="form-grid" style="grid-template-columns: 2fr 1fr; gap:0.5rem;">
                  <input id="poi-name-input" type="text" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà">
                  <select id="poi-type-input" class="form-control">
                    <option value="other">‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                    <option value="school">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
                    <option value="market">‡∏ï‡∏•‡∏≤‡∏î/‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</option>
                    <option value="hospital">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</option>
                  </select>
                </div>
                <div style="margin-top:0.5rem; text-align:right;">
                  <button type="button" id="poi-add-manual-btn" class="btn btn-secondary btn-sm">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
                </div>
                <!-- Hidden inputs for logic compatibility -->
                <input type="hidden" id="poi-distance-input">
                <input type="hidden" id="poi-lat-input">
                <input type="hidden" id="poi-lng-input">
              </div>
            </div>
          </div>

          <!-- Section 3: ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ -->
          <div class="form-section">
            <h4 class="form-section-title">üñºÔ∏è ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</h4>

            <label style="margin-top:1rem;">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏Å‡∏•‡∏•‡∏≠‡∏£‡∏µ‡πà (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÑ‡∏î‡πâ)</label>
            <div class="upload-area">
              <input type="file" id="gallery-upload" accept="image/*" multiple style="display:none;"
                onchange="this.nextElementSibling.innerText = this.files.length + ' ‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å'">
              <button type="button" class="btn btn-secondary"
                onclick="document.getElementById('gallery-upload').click()">+ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</button>
              <p style="margin-top:0.5rem; color:#6b7280; font-size:0.9rem;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</p>
            </div>
            <div id="gallery-preview" class="mt-2" style="display:flex; gap:0.5rem; flex-wrap:wrap; margin-top:1rem;">
            </div>

            <label style="margin-top:1.5rem;">YouTube Link</label>
            <div style="display:flex; gap:0.5rem;">
              <input type="text" id="youtube-input" class="form-control" placeholder="https://youtu.be/...">
              <button id="youtube-add-btn" class="btn btn-secondary" type="button">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
            </div>
            <ul id="youtube-list" style="margin-top:0.5rem; list-style:none; padding:0;"></ul>
          </div>

          <!-- Section 4: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
          <div class="form-section">
            <h4 class="form-section-title">üì¢ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</h4>
            <div class="form-grid">
              <div class="form-group">
                <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡πâ‡∏≤‡∏ô</label>
                <select name="status" class="form-control">
                  <option value="available">üü¢ ‡∏ß‡πà‡∏≤‡∏á (Available)</option>
                  <option value="sold">üî¥ ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß (Sold)</option>
                </select>
              </div>

              <div class="form-group">
                <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏µ‡πÇ‡∏ô‡πÄ‡∏ß‡∏ó</label>
                <select name="renovation_stage" class="form-control">
                  <option value="">-- ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ --</option>
                  <option value="planning">‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</option>
                  <option value="survey">‡∏™‡∏≥‡∏£‡∏ß‡∏à/‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</option>
                  <option value="demo">‡∏£‡∏∑‡πâ‡∏≠‡∏ñ‡∏≠‡∏ô</option>
                  <option value="structure">‡∏á‡∏≤‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á</option>
                  <option value="systems">‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥/‡πÑ‡∏ü</option>
                  <option value="finishes">‡∏á‡∏≤‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á</option>
                  <option value="staging">‡πÄ‡∏Å‡πá‡∏ö‡∏á‡∏≤‡∏ô/‡∏à‡∏±‡∏î‡∏ö‡πâ‡∏≤‡∏ô</option>
                  <option value="ready">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà</option>
                </select>
              </div>
            </div>

            <div class="form-group" style="margin-top:1rem;">
              <label>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà)</label>
              <textarea name="customer_status_text" class="form-control" rows="2"
                placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏±‡∏î‡∏ä‡∏°‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢, ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÇ‡∏≠‡∏ô..."></textarea>
            </div>

            <div style="display:flex; gap:1.5rem; margin-top:1rem;">
              <label style="display:flex; align-items:center; gap:0.5rem; cursor:pointer;">
                <input type="checkbox" name="customer_status_visible">
                <span>‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô</span>
              </label>

              <label style="display:flex; align-items:center; gap:0.5rem; cursor:pointer;">
                <input type="checkbox" name="published">
                <span>‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</span>
              </label>
            </div>
          </div>

          <!-- Actions Footer -->
          <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" class="btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
          </div>

        </form>
      </div>
    </div>
  </div>

  <!-- Modal ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á (View Only) -->
  <div id="poi-modal" class="modal">
    <div class="modal-content" style="max-width:480px;">
      <span class="modal-close" id="poi-modal-close">&times;</span>
      <h3 id="poi-modal-title" style="margin-top:0;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á</h3>
      <div id="poi-modal-body" style="margin-top:1rem;line-height:1.6;"></div>
      <div style="text-align:right;margin-top:1.5rem;">
        <button class="btn btn-secondary" id="poi-modal-ok">‡∏õ‡∏¥‡∏î</button>
      </div>
    </div>
  </div>


  <!-- Page JS -->
  <script type="module" src="/js/pages/dashboard.page.js"></script>
</body>

</html>